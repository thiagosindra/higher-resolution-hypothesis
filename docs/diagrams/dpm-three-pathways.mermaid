%% Three pathways with two gated collaterals
flowchart LR
  Inp[Input]:::in --> A((A)):::p1 --> B((B)):::p1 --> C((C)):::p1
  A --> X((X)):::p2 --> Y((Y)):::p2 --> Z((Z)):::p2
  %% Additional branch
  A --> M((M)):::p3 --> N((N)):::p3

  %% Conditional collaterals
  B -. gated .-> Y:::cond
  X -. gated .-> N:::cond

  classDef p1 fill:#e6f0ff,stroke:#6b8cff,color:#0b1b5e;
  classDef p2 fill:#e7f8ee,stroke:#29a36a,color:#0b3b23;
  classDef p3 fill:#fff6e6,stroke:#f59e0b,color:#7a3a00;
  classDef cond stroke:#e11d48,stroke-dasharray:5 4,stroke-width:1.6px,color:#7f1d1d,fill:#fff7f7;
  classDef in fill:#f5f5f5,stroke:#9aa0a6,color:#202124;
